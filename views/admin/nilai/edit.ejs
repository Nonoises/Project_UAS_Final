<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDIT</title>
    <link rel="stylesheet"
    href="https://www.unpkg.com/bulma@0.9.3/css/bulma.css">
</head>
<body>
    <div id="app" class="container is-max-desktop mt-5">
        <h1 class="title">Edit Data</h1>
        <div class="field"><label class="label">NIM</label>
            <div class="control"><input type="text"
            placeholder="Product Name" class="input" name="nim" id="nim"
            value=<%=nilai.nim %>></div>
        </div>
        <div class="field"><label class="label">Kode Mata Kuliah</label>
            <div class="control"><input type="text"
            placeholder="Product Price" class="input" name="kode_matkul" id="kode_matkul"
            value=<%=nilai.kode_matkul %> ></div>
        </div>
        <div class="field"><label class="label">Nilai UTS</label>
            <div class="control"><input type="text"
            placeholder="Product Price" class="input" name="nilai_uts" id="nilai_uts"
            value=<%=nilai.nilai_uts %> ></div>
        </div>
        <div class="field"><label class="label">Nilai Tugas</label>
            <div class="control"><input type="text"
            placeholder="Product Price" class="input" name="nilai_tugas" id="nilai_tugas"
            value=<%=nilai.nilai_tugas %> ></div>
        </div>
        <div class="field"><label class="label">Nilai UAS</label>
            <div class="control"><input type="text"
            placeholder="Product Price" class="input" name="nilai_uas" id="nilai_uas"
            value=<%=nilai.nilai_uas %> ></div>
        </div>
        <div class="control">
            <button class="button is-warning" id="save"
            onclick=<%="edit(" + nilai.id+ ")" %> > SAVE</button>
        </div>
    </div>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
const edit = (id) => {
    axios({
        method: 'put',
        url: '/admin/nilai/api/nilai/' + id,
        data: {
            nim: document.getElementById("nim").value,
            kode_matkul: document.getElementById("kode_matkul").value,
            nilai_uts: document.getElementById("nilai_uts").value,
            nilai_tugas: document.getElementById("nilai_tugas").value,
            nilai_uas: document.getElementById("nilai_uas").value
        }
    }).then((result) => {
        alert('Info status: ' + result.status)
        window.location = "/admin/nilai";
    }).catch((err) => {
        alert('error ' + err)
    });
}
</script>
</body>
</html>